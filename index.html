<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlexTimer v12</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>

<body>
    <div id="app-root">
        <div id="app-scaler">
            <div id="app-container">
                <!-- È°∂ÈÉ®Ê†áÈ¢òÊ†è -->
                <header id="header">
                    <div class="header-left">
                        <span class="app-title">FlexTimer v12</span>
                    </div>
                    <div class="header-center drag-region"></div>
                    <div class="header-right">
                        <div id="header-toolbar" class="header-toolbar">
                            <button class="header-btn" id="btn-review" title="Â§çÁõò">
                                <span class="icon">üìä</span>
                                <span class="label">Â§çÁõò</span>
                            </button>
                            <button class="header-btn" id="btn-reset" title="ÈáçÁΩÆ">
                                <span class="icon">üîÑ</span>
                                <span class="label">ÈáçÁΩÆ</span>
                            </button>
                            <button class="header-btn" id="btn-manage" title="ËÆÆÁ®ãÁÆ°ÁêÜ">
                                <span class="icon">üìÖ</span>
                                <span class="label">ÁÆ°ÁêÜ</span>
                            </button>
                            <button class="header-btn" id="btn-list" title="ÂæÖÂäûÂàóË°®">
                                <span class="icon">‚ò∞</span>
                                <span class="label">ÂΩìÊó•ËÆÆÁ®ã</span>
                            </button>
                            <button class="header-btn" id="btn-appearance" title="Â§ñËßÇËÆæÁΩÆ">
                                <span class="icon">üé®</span>
                                <span class="label">Â§ñËßÇ</span>
                            </button>
                            <button class="header-btn" id="btn-alert" title="ÊèêÈÜíËÆæÁΩÆ">
                                <span class="icon">üîî</span>
                                <span class="label">ÊèêÈÜí</span>
                            </button>
                        </div>
                    </div>
                    <button class="window-btn close-btn" id="btn-close" title="ÂÖ≥Èó≠">√ó</button>
                </header>

                <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
                <main id="main-content">
                    <!-- ËÆ°Êó∂Âå∫Âüü -->
                    <section id="timer-zone">
                        <div id="current-agenda-title">ÁÇπÂáª"ËÆÆÁ®ã"Ê∑ªÂä†Á¨¨‰∏Ä‰∏™ËÆÆÈ¢ò</div>
                        <div id="timer-display">00:00</div>
                        <div id="timer-status"></div>
                    </section>

                    <!-- Â∫ïÈÉ®ÊéßÂà∂Ê†è -->
                    <div id="control-bar">
                        <button class="control-btn primary" id="btn-start">ÂºÄÂßã</button>
                        <button class="control-btn" id="btn-skip">Ë∑≥Ëøá</button>
                        <button class="control-btn toggle" id="btn-overtime">
                            <span class="toggle-label">Ë∂ÖÊó∂Âª∂Èïø</span>
                            <span class="toggle-switch off"></span>
                        </button>
                    </div>
                </main>

                <!-- ‰æßËæπÊ†è -->
                <aside id="sidebar" class="collapsed">
                    <!-- ... sidebar content ... -->
                    <div id="sidebar-header">
                        <span>ËÆÆÁ®ãÂàóË°®</span>
                        <button class="sidebar-close-btn" id="btn-sidebar-close">√ó</button>
                    </div>
                    <div id="list-zone"></div>
                    <div class="sidebar-footer">
                        <button class="action-btn add-btn" id="btn-add-agenda">
                            <span class="icon">+</span> Ê∑ªÂä†ËÆÆÁ®ã
                        </button>
                        <button class="action-btn archive-btn" id="btn-archive-agenda" title="ÂΩíÊ°£ÂΩìÊó•ËÆÆÁ®ã">
                            <span class="icon">üìÇ</span> ÂΩíÊ°£
                        </button>
                    </div>
                </aside>
            </div>

            <!-- ÂºπÁ™óÈÅÆÁΩ© -->
            <div id="popup-overlay" class="hidden">

                <!-- 1. ËÆÆÁ®ãÁÆ°ÁêÜ‰∏≠ÂøÉ (New) -->
                <div id="popup-agenda-manager" class="popup-card popup-agenda-manager hidden">
                    <!-- ... content ... -->
                    <div class="modal-sidebar" id="modal-sidebar">
                        <div class="sidebar-title">ËÆÆÁ®ãÁÆ°ÁêÜ</div>
                        <div class="modal-nav-item active" data-tab="new">
                            <span>üìù</span> Êñ∞Â¢û‰ºöËÆÆËÆÆÁ®ã
                        </div>
                        <div class="modal-nav-item" data-tab="history">
                            <span>üìÖ</span> ÂéÜÂè≤ËÆÆÁ®ãË°®
                        </div>
                    </div>

                    <!-- Resizer 1: Between sidebar and content -->
                    <div class="panel-resizer" id="resizer-sidebar"></div>

                    <div class="modal-content" id="modal-content">
                        <!-- Tab 1: Êñ∞Â¢ûËÆÆÁ®ã -->
                        <div id="section-new-agenda" class="tab-section active">
                            <h3>Êñ∞Â¢û‰ºöËÆÆËÆÆÁ®ã</h3>
                            <div class="form-group">
                                <label for="input-title">ËÆÆÈ¢òÂêçÁß∞</label>
                                <input type="text" id="input-title" placeholder="‰æãÂ¶ÇÔºöÈ°πÁõÆ‰ªãÁªç">
                            </div>
                            <div class="form-group">
                                <label for="input-duration">ËÆ°ÂàíÊó∂Èïø (ÂàÜÈíü)</label>
                                <input type="number" id="input-duration" placeholder="5" min="1" value="5">
                            </div>
                            <div class="popup-actions center-actions">
                                <button class="popup-btn confirm" id="btn-confirm-add"
                                    style="max-width: 200px;">ÂºÄÂßãËÆÆÁ®ã</button>
                            </div>
                        </div>

                        <!-- Tab 2: ÂéÜÂè≤ËÆ∞ÂΩï -->
                        <div id="section-history-agenda" class="tab-section hidden">
                            <div class="history-layout">
                                <!-- Left: Calendar -->
                                <div class="calendar-section" id="calendar-section">
                                    <div class="calendar-header">
                                        <button class="header-btn" id="btn-prev-month">&lt;</button>
                                        <span id="calendar-current-month"></span>
                                        <button class="header-btn" id="btn-next-month">&gt;</button>
                                    </div>
                                    <div class="calendar-grid" id="calendar-grid">
                                        <!-- Generated by JS -->
                                    </div>
                                </div>

                                <!-- Resizer 2: Between calendar and history list -->
                                <div class="panel-resizer vertical" id="resizer-calendar"></div>

                                <!-- Right: List -->
                                <div class="history-list-section" id="history-list-section">
                                    <div class="history-title-bar">
                                        <span class="history-date-label" id="history-selected-date">ËØ∑ÈÄâÊã©Êó•Êúü</span>
                                    </div>
                                    <div id="history-list-container">
                                        <!-- Generated by JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="close-popup-btn" id="btn-close-manager">√ó</button>
                </div>

                <!-- 2. Â§ñËßÇËÆæÁΩÆÂºπÁ™ó -->
                <div id="popup-appearance" class="popup-card popup-appearance hidden">
                    <h3>Â§ñËßÇËÆæÁΩÆ</h3>

                    <!-- ===== ÂÄíËÆ°Êó∂Âå∫Âüü ===== -->
                    <div class="appearance-group">
                        <div class="group-title">üìä ÂÄíËÆ°Êó∂</div>

                        <!-- ÂÄíËÆ°Êó∂Â≠ó‰ΩìÈ¢úËâ≤ -->
                        <div class="appearance-section">
                            <div class="section-label">Â≠ó‰ΩìÈ¢úËâ≤</div>
                            <div class="color-picker-row">
                                <input type="color" id="input-timer-color" class="color-input" value="#00ff00">
                                <div class="color-gradient" id="timer-color-gradient"></div>
                                <div class="color-preview-timer" id="timer-color-preview">05:30</div>
                            </div>
                        </div>

                        <!-- ÂÄíËÆ°Êó∂Â≠ó‰ΩìÂ§ßÂ∞è -->
                        <div class="appearance-section">
                            <div class="section-label">Â≠ó‰ΩìÂ§ßÂ∞è</div>
                            <div class="slider-container">
                                <span class="slider-min">40px</span>
                                <input type="range" id="input-timer-size" class="styled-slider" min="40" max="400"
                                    value="80" list="timer-size-marks">
                                <datalist id="timer-size-marks">
                                    <option value="40"></option>
                                    <option value="80"></option>
                                    <option value="120"></option>
                                    <option value="160"></option>
                                    <option value="200"></option>
                                    <option value="300"></option>
                                    <option value="400"></option>
                                </datalist>
                                <span class="slider-max">400px</span>
                            </div>
                            <div class="size-preview">
                                <span id="timer-size-preview">05:30</span>
                            </div>
                        </div>
                    </div>

                    <!-- ===== ÁïåÈù¢ÂÖÉÁ¥†Âå∫Âüü ===== -->
                    <div class="appearance-group">
                        <div class="group-title">üé® ÁïåÈù¢ÂÖÉÁ¥†</div>

                        <!-- UIÂ≠ó‰ΩìÈ¢úËâ≤ -->
                        <div class="appearance-section">
                            <div class="section-label">Â≠ó‰ΩìÈ¢úËâ≤</div>
                            <div class="color-picker-row">
                                <input type="color" id="input-ui-color" class="color-input" value="#ffffff">
                                <div class="color-gradient" id="ui-color-gradient"></div>
                                <div class="color-preview-ui" id="ui-color-preview">ÊåâÈíÆÈ¢ÑËßà</div>
                            </div>
                        </div>

                        <!-- UIÂ≠ó‰ΩìÂ§ßÂ∞è -->
                        <div class="appearance-section">
                            <div class="section-header">
                                <span class="section-label">Â≠ó‰ΩìÂ§ßÂ∞è</span>
                                <span class="section-value" id="ui-size-value">14px</span>
                            </div>
                            <div class="slider-container">
                                <span class="slider-min">12px</span>
                                <input type="range" id="input-ui-size" class="styled-slider" min="12" max="24"
                                    value="14" list="ui-size-marks">
                                <datalist id="ui-size-marks">
                                    <option value="12"></option>
                                    <option value="14"></option>
                                    <option value="16"></option>
                                    <option value="18"></option>
                                    <option value="20"></option>
                                    <option value="24"></option>
                                </datalist>
                                <span class="slider-max">24px</span>
                            </div>
                        </div>
                    </div>

                    <!-- ===== Á™óÂè£ÈÄèÊòéÂ∫¶ ===== -->
                    <div class="appearance-section" style="margin-top: 12px;">
                        <div class="section-header">
                            <span class="section-label">Á™óÂè£ÈÄèÊòéÂ∫¶</span>
                            <span class="section-value" id="opacity-value">100%</span>
                        </div>
                        <div class="slider-container">
                            <span class="slider-min">20%</span>
                            <input type="range" id="input-opacity" class="styled-slider" min="20" max="100" value="100"
                                list="opacity-marks">
                            <datalist id="opacity-marks">
                                <option value="20"></option>
                                <option value="40"></option>
                                <option value="60"></option>
                                <option value="80"></option>
                                <option value="100"></option>
                            </datalist>
                            <span class="slider-max">100%</span>
                        </div>
                    </div>

                    <div class="popup-actions">
                        <button class="popup-btn confirm" id="btn-save-appearance">‰øùÂ≠ò</button>
                        <button class="popup-btn cancel" id="btn-cancel-appearance">ÂèñÊ∂à</button>
                    </div>
                </div>

                <!-- 3. ÊèêÈÜíËÆæÁΩÆÂºπÁ™ó -->
                <div id="popup-alert" class="popup-card hidden">
                    <h3>ÊèêÈÜíËÆæÁΩÆ</h3>

                    <div class="form-row">
                        <span class="form-label">ÂÄíËÆ°Êó∂È¢ÑË≠¶(Áßí)</span>
                        <input type="number" id="input-warning-seconds" class="input-small" placeholder="10" min="0"
                            value="10">
                    </div>

                    <div class="form-row">
                        <span class="form-label">Â£∞Èü≥ÊèêÈÜí</span>
                        <label class="switch">
                            <input type="checkbox" id="input-sound-enabled" checked>
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="preview-section">
                        <div class="preview-label">Preview</div>
                        <div class="preview-content">
                            <div class="preview-timer">-00:15</div>
                            <div class="alarm-icon">
                                <div class="alarm-light"></div>
                                <div class="alarm-base">üö®</div>
                            </div>
                        </div>
                    </div>

                    <div class="popup-actions">
                        <button class="popup-btn cancel" id="btn-cancel-alert">ÂèñÊ∂à</button>
                        <button class="popup-btn confirm" id="btn-save-alert">‰øùÂ≠ò</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>

</html>