# 功能规格说明书 (Functional Specification)

**项目名称**: FlexTimer v11
**版本**: 1.0.2
**日期**: 2026-01-30

## 1. 概述 (Overview)
FlexTimer v11 是一款基于浏览器的专业级会议/演示倒计时管理工具。它专为需要在屏幕上悬浮显示倒计时、管理多个议程环节的讲师、演讲者或会议主持设计。软件采用现代化的玻璃拟态 UI 风格，支持拖拽排序、自定义外观和非侵入式的操作体验。

## 2. 核心功能 (Core Features)

### 2.1 议程管理 (Agenda Management)
- **多议程支持**: 用户可以添加任意数量的议程项目。
- **快速录入**: 简单的名称和分钟数输入，支持回车确认。
- **自动记忆**: 系统会自动记忆上次添加的内容，方便快速重复录入。
- **拖拽排序**: 利用 `Sortable.js` 技术，用户可以通过鼠标直接拖拽调整议程顺序，且即使在倒计时进行中也能随意调整，不影响当前计时。
- **删除与清理**: 支持单个删除（未开始或已结束的项）和一键全清重置。
- **持久化存储**: 所有议程数据通过 `localStorage` 保存，关闭浏览器后重新打开依然存在。

### 2.2 倒计时控制 (Timer Control)
- **正/倒计时切换**:
  - **准备阶段**: 显示倒数 3-2-1 的全屏遮罩动画。
  - **进行阶段**: 显示剩余时间（分:秒）。
  - **超时阶段**: 自动进入负计时（-分:秒），并显示红色超时警告。
- **控制按钮**:
  - **开始/暂停/继续**: 主控制按钮，根据当前状态动态变化文字。
  - **跳过**: 允许用户直接跳过当前议程进入下一项。
  - **超时延长开关**: 可选开启/关闭。开启后，倒计时结束进入负计时；关闭后，倒计时结束自动进入下一项缓冲。

### 2.3 视觉与交互 (UI/UX)
- **玻璃拟态 (Glassmorphism)**: 界面采用半透明磨砂玻璃效果，背景模糊，既美观又能让用户看清底层内容（如 PPT）。
- **顶部操作栏 (Header)**: 
    - **左侧**: 显示软件标题。
    - **右侧**: 功能按钮集，包括 **[复盘] [重置] [管理] [列表] [外观] [提醒] [设置]**。
    - **最右侧 (Absolute)**: 独立的 **关闭窗口按钮 (X)**，采用标准 Windows 风格（悬停红色），置于窗口最右上角。
- **可收缩侧边栏**: 点击顶部 [列表] 按钮展开/收起待办议程列表。
- **悬浮控制栏**: 底部控制按钮在鼠标移出时自动隐藏，保持界面整洁。
- **拖拽移动**: 顶部设有拖动条（Drag Handle），配合 Electron 框架可实现窗口任意拖动。

### 2.4 历史议程 (History Agenda)
- **议程管理弹窗**:
  - 点击顶部 [管理] 按钮进入。
  - **新增议程 Tab**: 用于快速添加新的会议议程。
  - **历史议程 Tab**:
    - **日历视图**: 左侧显示月历，有点标记的日期表示有历史记录。
    - **列表视图**: 右侧显示选中日期的所有议程及完成状态。
- **数据归档**:
  - 议程完成后（或被跳过并标记完成），会自动归档到当天的历史记录中。
  - 历史数据支持按日期查询。

## 3. 个性化设置 (Settings)
- **外观定制**:
  - **字体颜色**: 支持自定义时间显示的颜色。
  - **字体大小**: 支持滑动条调节时间显示的大小（40px - 200px）。
  - **窗口透明度**: 支持调节背景的不透明度（20% - 100%）。
- **提醒设置**:
  - **倒计时预警**: 用户可设置最后 N 秒（如 10秒）触发红色闪烁提醒和提示音效。

## 4. 窗口管理
- **关闭功能**: 顶部最右上角设有独立关闭按钮，符合 Windows 交互习惯。
- **设置入口**: 设置按钮位于顶部功能菜单的最右侧。

## 5. 数据导出 (Data Export)
- **复盘报告 (.csv)**: 支持导出 CSV 格式的复盘报告，按钮位于顶部菜单的 **最左侧**。

## 6. 键盘与快捷键
- **回车键 (Enter)**: 在新增议程弹窗中确认添加。
- **自动聚焦**: 打开新增弹窗时自动聚焦输入框。

## 7、历史会议议程
- 查看历史会议议程按照日期管理